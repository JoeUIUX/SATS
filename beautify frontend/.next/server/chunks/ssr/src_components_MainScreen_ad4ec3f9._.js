module.exports = {

"[project]/src/components/MainScreen/MainScreen.module.css [app-ssr] (css module)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.v({
  "aboutButton": "MainScreen-module__4v2AYG__aboutButton",
  "aboutSection": "MainScreen-module__4v2AYG__aboutSection",
  "actionButtons": "MainScreen-module__4v2AYG__actionButtons",
  "addProfileButton": "MainScreen-module__4v2AYG__addProfileButton",
  "bottomSection": "MainScreen-module__4v2AYG__bottomSection",
  "cancelButton": "MainScreen-module__4v2AYG__cancelButton",
  "checkoutButton": "MainScreen-module__4v2AYG__checkoutButton",
  "checkoutSection": "MainScreen-module__4v2AYG__checkoutSection",
  "content": "MainScreen-module__4v2AYG__content",
  "dark": "MainScreen-module__4v2AYG__dark",
  "deleteButton": "MainScreen-module__4v2AYG__deleteButton",
  "docx": "MainScreen-module__4v2AYG__docx",
  "docx-wrapper": "MainScreen-module__4v2AYG__docx-wrapper",
  "downloadButton": "MainScreen-module__4v2AYG__downloadButton",
  "dragItem": "MainScreen-module__4v2AYG__dragItem",
  "dropHereText": "MainScreen-module__4v2AYG__dropHereText",
  "dropZone": "MainScreen-module__4v2AYG__dropZone",
  "dropZoneArea": "MainScreen-module__4v2AYG__dropZoneArea",
  "dropdownButton": "MainScreen-module__4v2AYG__dropdownButton",
  "droppableBox": "MainScreen-module__4v2AYG__droppableBox",
  "editButton": "MainScreen-module__4v2AYG__editButton",
  "editButtons": "MainScreen-module__4v2AYG__editButtons",
  "editModeButtons": "MainScreen-module__4v2AYG__editModeButtons",
  "editableArea": "MainScreen-module__4v2AYG__editableArea",
  "editableTextarea": "MainScreen-module__4v2AYG__editableTextarea",
  "emptyDropZone": "MainScreen-module__4v2AYG__emptyDropZone",
  "hidden": "MainScreen-module__4v2AYG__hidden",
  "hiddenDropZone": "MainScreen-module__4v2AYG__hiddenDropZone",
  "imageContainer": "MainScreen-module__4v2AYG__imageContainer",
  "imageWrapper": "MainScreen-module__4v2AYG__imageWrapper",
  "isDragging": "MainScreen-module__4v2AYG__isDragging",
  "isDropped": "MainScreen-module__4v2AYG__isDropped",
  "isEnabled": "MainScreen-module__4v2AYG__isEnabled",
  "isOver": "MainScreen-module__4v2AYG__isOver",
  "mainScreen": "MainScreen-module__4v2AYG__mainScreen",
  "menu": "MainScreen-module__4v2AYG__menu",
  "menuItem": "MainScreen-module__4v2AYG__menuItem",
  "profileActions": "MainScreen-module__4v2AYG__profileActions",
  "profileButtonGroup": "MainScreen-module__4v2AYG__profileButtonGroup",
  "profileContainer": "MainScreen-module__4v2AYG__profileContainer",
  "profileDropdown": "MainScreen-module__4v2AYG__profileDropdown",
  "profileHeading": "MainScreen-module__4v2AYG__profileHeading",
  "profilePage": "MainScreen-module__4v2AYG__profilePage",
  "profileSidebarItem": "MainScreen-module__4v2AYG__profileSidebarItem",
  "profileSubtext": "MainScreen-module__4v2AYG__profileSubtext",
  "profilesButton": "MainScreen-module__4v2AYG__profilesButton",
  "removeDraggedItemsButton": "MainScreen-module__4v2AYG__removeDraggedItemsButton",
  "removeImageButton": "MainScreen-module__4v2AYG__removeImageButton",
  "retractExpandSidebarButton": "MainScreen-module__4v2AYG__retractExpandSidebarButton",
  "richTextEditor": "MainScreen-module__4v2AYG__richTextEditor",
  "saveButton": "MainScreen-module__4v2AYG__saveButton",
  "scrollableContainer": "MainScreen-module__4v2AYG__scrollableContainer",
  "settingsButton": "MainScreen-module__4v2AYG__settingsButton",
  "settingsContainer": "MainScreen-module__4v2AYG__settingsContainer",
  "sidebar": "MainScreen-module__4v2AYG__sidebar",
  "sidebarHeader": "MainScreen-module__4v2AYG__sidebarHeader",
  "startTestButton": "MainScreen-module__4v2AYG__startTestButton",
  "threeDModelButton": "MainScreen-module__4v2AYG__threeDModelButton",
  "toggleButton": "MainScreen-module__4v2AYG__toggleButton",
  "topSection": "MainScreen-module__4v2AYG__topSection",
  "uploadButton": "MainScreen-module__4v2AYG__uploadButton",
  "uploadContainer": "MainScreen-module__4v2AYG__uploadContainer",
  "uploadNote": "MainScreen-module__4v2AYG__uploadNote",
  "uploadedFileName": "MainScreen-module__4v2AYG__uploadedFileName",
  "uploadedImage": "MainScreen-module__4v2AYG__uploadedImage",
});
}}),
"[project]/src/components/MainScreen/DraggableBox.tsx [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@dnd-kit/sortable/dist/sortable.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$utilities$2f$dist$2f$utilities$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@dnd-kit/utilities/dist/utilities.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__ = __turbopack_context__.i("[project]/src/components/MainScreen/MainScreen.module.css [app-ssr] (css module)");
;
;
;
;
;
const DraggableBox = ({ id, header, options, data, isDropped, isInBottomSection, removeDroppedItem, isCheckoutEditing = false, className, checkedOptions = {}, onOptionChange// Handler for checkbox changes
 })=>{
    const { attributes, listeners, setNodeRef, transform, transition, isDragging } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSortable"])({
        id: id,
        data: {
            type: "draggable-item",
            isDraggable: !isDropped || isCheckoutEditing,
            isDropped: isDropped
        },
        disabled: false
    });
    const isDarkMode = document.documentElement.classList.contains("dark");
    const defaultBgColor = isDarkMode ? "#2d2d2d" : "#f8f9fa";
    const droppedBgColor = defaultBgColor;
    const shouldApplyEffect = isInBottomSection && isDropped && !isCheckoutEditing;
    // Calculate height dynamically based on the max number of options in all dropped items
    const baseHeight = 80; // Base height for header and padding
    const optionHeight = 24; // Height per option
    const maxVisibleOptions = 10; // Allow up to 10 options before scrolling
    const totalHeight = baseHeight + Math.min(options.length, maxVisibleOptions) * optionHeight;
    const requiresScroll = options.length > maxVisibleOptions;
    const [maxHeight, setMaxHeight] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(totalHeight);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const allDroppedBoxes = document.querySelectorAll('[data-dropped="true"]');
        let highest = totalHeight;
        allDroppedBoxes.forEach((box)=>{
            const optionCount = box.querySelectorAll("label").length;
            const calculatedHeight = baseHeight + Math.min(optionCount, maxVisibleOptions) * optionHeight;
            if (calculatedHeight > highest) {
                highest = calculatedHeight;
            }
        });
        setMaxHeight(highest);
    }, [
        options.length,
        isDropped
    ]);
    const style = {
        transform: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$utilities$2f$dist$2f$utilities$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CSS"].Transform.toString(transform),
        transition: "background-color 0.3s ease-in-out, opacity 0.3s ease-in-out",
        padding: "8px",
        margin: "0",
        backgroundColor: isDropped ? droppedBgColor : defaultBgColor,
        border: "1px solid #ccc",
        borderRadius: "4px",
        cursor: shouldApplyEffect ? "not-allowed" : isDragging ? "grabbing" : "grab",
        display: "inline-block",
        width: "145px",
        height: `${maxHeight}px`,
        boxSizing: "border-box",
        opacity: shouldApplyEffect ? 0.5 : 1,
        color: isDarkMode ? "#ffffff" : "black",
        position: "relative",
        zIndex: isDragging ? 999 : 1,
        touchAction: "none",
        userSelect: "none",
        overflowY: requiresScroll ? "auto" : "hidden",
        overflowX: "hidden",
        whiteSpace: "normal",
        pointerEvents: shouldApplyEffect ? "none" : "auto"
    };
    // Handle checkbox change
    const handleCheckboxChange = (option, checked)=>{
        if (onOptionChange) {
            onOptionChange(id, option, checked);
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        ref: setNodeRef,
        style: style,
        ...attributes,
        ...isDropped && !isCheckoutEditing ? {} : listeners,
        "data-draggable-id": id,
        "data-dropped": isDropped ? "true" : "false",
        className: className,
        children: [
            isDropped && removeDroppedItem && isCheckoutEditing && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                onClick: ()=>removeDroppedItem(id),
                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].removeDraggedItemsButton,
                children: "âœ–"
            }, void 0, false, {
                fileName: "[project]/src/components/MainScreen/DraggableBox.tsx",
                lineNumber: 129,
                columnNumber: 3
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h4", {
                style: {
                    textAlign: "center",
                    wordWrap: "break-word"
                },
                children: header
            }, void 0, false, {
                fileName: "[project]/src/components/MainScreen/DraggableBox.tsx",
                lineNumber: 137,
                columnNumber: 7
            }, this),
            options.map((option)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                    style: {
                        display: "flex",
                        alignItems: "center",
                        fontSize: "12px",
                        marginBottom: "4px",
                        textAlign: "left"
                    },
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                            type: "checkbox",
                            disabled: isDropped && !isCheckoutEditing,
                            style: {
                                marginRight: "6px"
                            },
                            checked: checkedOptions[option] || false,
                            onChange: (e)=>handleCheckboxChange(option, e.target.checked)
                        }, void 0, false, {
                            fileName: "[project]/src/components/MainScreen/DraggableBox.tsx",
                            lineNumber: 146,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                            children: option
                        }, void 0, false, {
                            fileName: "[project]/src/components/MainScreen/DraggableBox.tsx",
                            lineNumber: 153,
                            columnNumber: 11
                        }, this)
                    ]
                }, option, true, {
                    fileName: "[project]/src/components/MainScreen/DraggableBox.tsx",
                    lineNumber: 139,
                    columnNumber: 9
                }, this))
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/MainScreen/DraggableBox.tsx",
        lineNumber: 119,
        columnNumber: 5
    }, this);
};
const __TURBOPACK__default__export__ = DraggableBox;
}}),
"[project]/src/components/MainScreen/MainScreen.tsx [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__ = __turbopack_context__.i("[project]/src/components/MainScreen/MainScreen.module.css [app-ssr] (css module)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/react-icons/fa/index.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$mammoth$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/mammoth/lib/index.js [app-ssr] (ecmascript)"); // Import mammoth for `.docx` extraction, npm install mammoth
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$docx$2d$preview$2f$dist$2f$docx$2d$preview$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/docx-preview/dist/docx-preview.mjs [app-ssr] (ecmascript)"); // npm install docx-preview
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$docx$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/docx/dist/index.mjs [app-ssr] (ecmascript)"); // npm install docx
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$react$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@tiptap/react/dist/index.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$starter$2d$kit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@tiptap/starter-kit/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$extension$2d$table$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@tiptap/extension-table/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$extension$2d$table$2d$row$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@tiptap/extension-table-row/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$extension$2d$table$2d$cell$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@tiptap/extension-table-cell/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$extension$2d$table$2d$header$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@tiptap/extension-table-header/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$extension$2d$bullet$2d$list$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@tiptap/extension-bullet-list/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$extension$2d$ordered$2d$list$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@tiptap/extension-ordered-list/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$extension$2d$list$2d$item$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@tiptap/extension-list-item/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$turndown$2f$lib$2f$turndown$2e$es$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/turndown/lib/turndown.es.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@dnd-kit/core/dist/core.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@dnd-kit/sortable/dist/sortable.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$DraggableBox$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/MainScreen/DraggableBox.tsx [app-ssr] (ecmascript)"); // Import Draggable Box
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$CheckoutTestProgress$2f$CheckoutTestProgress$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/CheckoutTestProgress/CheckoutTestProgress.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$mccUtils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/utils/mccUtils.ts [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
const API_URL = process.env.REACT_APP_BACKEND_URL || "http://127.0.0.1:5000"; // fall back
const MainScreen = ({ openToTestList, closeToTestList, openServerWindow, openModelWindow, closeModelWindow, showToTestList, showThreeDModelWindow, threeDModelProfileId, windowZIndexes, bringWindowToFront, zIndexCounter, showSettingsWindow, openSettingsWindow, closeSettingsWindow })=>{
    const [isSidebarOpen, setIsSidebarOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(true);
    const [isProfileDropdownOpen, setIsProfileDropdownOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [profiles, setProfiles] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [selectedProfile, setSelectedProfile] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [showAbout, setShowAbout] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [uploadedText, setUploadedText] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])("");
    const [isEditing, setIsEditing] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false); // for aboutSection
    const [tempDescription, setTempDescription] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])("");
    const [uploadedImages, setUploadedImages] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [uploadedFileName, setUploadedFileName] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [profileData, setProfileData] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])({});
    const [showCheckout, setShowCheckout] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [isCheckoutEditing, setIsCheckoutEditing] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false); // For checkoutSection
    const [droppedItems, setDroppedItems] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    // Manage draggable items
    const createDefaultCheckedOptions = (options)=>{
        const checkedOptions = {};
        options.forEach((option)=>{
            checkedOptions[option] = true;
        });
        return checkedOptions;
    };
    const [items, setItems] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([
        {
            id: "1",
            header: "OBC-1",
            options: [
                "eMMC"
            ],
            isDropped: false,
            checkedOptions: createDefaultCheckedOptions([
                "eMMC"
            ])
        },
        {
            id: "2",
            header: "OBC-2",
            options: [
                "SD Card",
                "EEPROM"
            ],
            isDropped: false,
            checkedOptions: createDefaultCheckedOptions([
                "SD Card",
                "EEPROM"
            ])
        },
        {
            id: "3",
            header: "S-Band",
            options: [
                "Telemetry",
                "Ground Pass"
            ],
            isDropped: false,
            checkedOptions: createDefaultCheckedOptions([
                "Telemetry",
                "Ground Pass"
            ])
        },
        {
            id: "4",
            header: "UHF",
            options: [
                "Telemetry",
                "Ground Pass"
            ],
            isDropped: false,
            checkedOptions: createDefaultCheckedOptions([
                "Telemetry",
                "Ground Pass"
            ])
        },
        {
            id: "5",
            header: "HEPS",
            options: [
                "Solar Panel",
                "Heater",
                "Hdrm"
            ],
            isDropped: false,
            checkedOptions: createDefaultCheckedOptions([
                "Solar Panel",
                "Heater",
                "Hdrm"
            ])
        },
        {
            id: "6",
            header: "ADCS",
            options: [
                "Version Check",
                "Gyroscope",
                "Magnetometer",
                "Star Tracker",
                "FOG",
                "Fine Sun Sensor",
                "Coarse Sun Sensor",
                "Earth Sensor",
                "Reaction Wheel",
                "Magnetic Torquer"
            ],
            isDropped: false,
            checkedOptions: createDefaultCheckedOptions([
                "Version Check",
                "Gyroscope",
                "Magnetometer",
                "Star Tracker",
                "FOG",
                "Fine Sun Sensor",
                "Coarse Sun Sensor",
                "Earth Sensor",
                "Reaction Wheel",
                "Magnetic Torquer"
            ])
        },
        {
            id: "7",
            header: "GPS",
            options: [
                "Version Check"
            ],
            isDropped: false,
            checkedOptions: createDefaultCheckedOptions([
                "Version Check"
            ])
        },
        {
            id: "8",
            header: "Propulsion",
            options: [
                "ECU-1 PMA",
                "ECU-1 PPU-1",
                "ECU-2 PMA",
                "ECU-2 PPU-2"
            ],
            isDropped: false,
            checkedOptions: createDefaultCheckedOptions([
                "ECU-1 PMA",
                "ECU-1 PPU-1",
                "ECU-2 PMA",
                "ECU-2 PPU-2"
            ])
        },
        {
            id: "9",
            header: "PCS",
            options: [
                "SD Card"
            ],
            isDropped: false,
            checkedOptions: createDefaultCheckedOptions([
                "SD Card"
            ])
        },
        {
            id: "10",
            header: "LEOCAM",
            options: [
                "LEOCAM"
            ],
            isDropped: false,
            checkedOptions: createDefaultCheckedOptions([
                "LEOCAM"
            ])
        },
        {
            id: "11",
            header: "X-Band",
            options: [
                "Telecommand",
                "Telemetry"
            ],
            isDropped: false,
            checkedOptions: createDefaultCheckedOptions([
                "Telecommand",
                "Telemetry"
            ])
        },
        {
            id: "12",
            header: "AOD",
            options: [
                "AOD"
            ],
            isDropped: false,
            checkedOptions: createDefaultCheckedOptions([
                "AOD"
            ])
        }
    ]);
    const [activeId, setActiveId] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [dummyState, setDummyState] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false); // state for forcing re-renders
    const [sortableKey, setSortableKey] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(0);
    const [show3DModel, setShow3DModel] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false); // Manage pop-up visibility
    const [selectedProfileId, setSelectedProfileId] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [showCheckoutTest, setShowCheckoutTest] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [mccSocket, setMccSocket] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    // state to store the real MCC socket
    const [realMccSocket, setRealMccSocket] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [settingsWindowVisible, setSettingsWindowVisible] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(showSettingsWindow);
    // In MainScreen.tsx, add this after your state declarations but before your functions
    const dragTimeoutRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(undefined);
    const removeDroppedItem = (itemId)=>{
        if (dragTimeoutRef.current) {
            clearTimeout(dragTimeoutRef.current);
        }
        console.log(`ðŸ—‘ï¸ Attempting to remove item ${itemId} from top section`);
        // Remove from `droppedItems`
        setDroppedItems((prev)=>{
            const updatedDroppedItems = prev.filter((item)=>item.id !== itemId);
            console.log("âœ… Updated dropped items after removal:", updatedDroppedItems);
            return [
                ...updatedDroppedItems
            ]; // Force reactivity
        });
        // Ensure item is draggable again by updating `items` state
        setItems((prev)=>{
            const updatedItems = prev.map((item)=>{
                if (item.id === itemId) {
                    console.log(`âœ… Resetting isDropped for item ${itemId}`);
                    return {
                        ...item,
                        isDropped: false
                    };
                }
                return item;
            });
            console.log("âœ… Updated items after removal:", updatedItems);
            return [
                ...updatedItems
            ]; // Ensure a new array reference for reactivity
        });
        // Reset DOM attributes to make the item draggable again
        setTimeout(()=>{
            const bottomItem = document.querySelector(`[data-draggable-id="${itemId}"]`);
            if (bottomItem) {
                console.log(`âœ… Resetting DOM attributes for item ${itemId}`);
                bottomItem.removeAttribute('data-dropped');
                bottomItem.style.pointerEvents = 'auto';
                bottomItem.style.opacity = '1';
                bottomItem.style.cursor = 'grab';
            }
        }, 50);
        setActiveId(null);
        setDragging(false);
        // FULL Reset of Drop Zones and SortableContext
        setTimeout(()=>{
            console.log("ðŸ”„ FORCING FULL Reset of Drop Zones and SortableContext...");
            setDroppedItems((prev)=>[
                    ...prev
                ]);
            setItems((prev)=>[
                    ...prev
                ]); // âœ… Ensure full re-render
            // Force SortableContext to reset
            setSortableKey((prev)=>prev + 1);
        }, 200);
    };
    // Add a function to handle checkbox changes
    const handleOptionChange = (itemId, option, checked)=>{
        console.log(`Checkbox changed: ${itemId}, option: ${option}, checked: ${checked}`);
        // Update items if the item is in the bottom section
        setItems((prevItems)=>prevItems.map((item)=>item.id === itemId ? {
                    ...item,
                    checkedOptions: {
                        ...item.checkedOptions,
                        [option]: checked
                    }
                } : item));
        // Update droppedItems if the item is in the top section
        setDroppedItems((prevItems)=>prevItems.map((item)=>item.id === itemId ? {
                    ...item,
                    checkedOptions: {
                        ...item.checkedOptions,
                        [option]: checked
                    }
                } : item));
        // Save the updated state to the database
        handleSaveCheckout();
    };
    const observerRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const renderCount = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(0); // Track how many times it runs
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!isCheckoutEditing) return;
        renderCount.current += 1;
        console.log(`ðŸ” useEffect executed ${renderCount.current} times`);
        const dropZones = document.querySelectorAll('[data-droppable-id]');
        dropZones.forEach((zone)=>{
            zone.setAttribute('data-droppable', 'true');
            zone.setAttribute('data-type', 'container');
        });
    }, [
        isCheckoutEditing
    ]);
    const [dragging, setDragging] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        console.log("ðŸ”„ Drop zones reloaded due to dragging state");
    }, [
        dragging
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        fetchProfiles();
    }, []);
    const fetchProfiles = async ()=>{
        try {
            const response = await fetch(`${API_URL}/profiles`);
            if (!response.ok) {
                throw new Error("Failed to fetch profiles.");
            }
            const data = await response.json();
            let profileMap = {};
            data.forEach((profile)=>{
                profileMap[profile.name] = {
                    description: profile.description || "",
                    images: profile.images && Array.isArray(profile.images) ? profile.images.map((img)=>typeof img === "string" ? {
                            src: img,
                            alt: "Uploaded image"
                        } : img) : [],
                    uploadedFileName: profile.uploadedFileName || ""
                };
            });
            setProfiles(data);
            setProfileData(profileMap);
        } catch (error) {
            console.error("Error fetching profiles:", error);
        }
    };
    const toggleSidebar = ()=>setIsSidebarOpen(!isSidebarOpen);
    const toggleProfileDropdown = ()=>setIsProfileDropdownOpen(!isProfileDropdownOpen);
    const toggleAbout = ()=>{
        if (!selectedProfile) return;
        setShowAbout(!showAbout);
    };
    const addProfile = async ()=>{
        let profileName = prompt("Enter profile name:");
        if (!profileName || profileName.trim() === "") {
            alert("Profile name cannot be empty.");
            return;
        }
        profileName = profileName.trim();
        if (profiles.some((profile)=>profile.name.toLowerCase() === profileName.toLowerCase())) {
            alert("Profile name already exists! Choose a different name.");
            return;
        }
        try {
            const response = await fetch(`${API_URL}/profiles`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    name: profileName,
                    description: "",
                    images: []
                })
            });
            if (!response.ok) {
                const errorMessage = await response.json();
                throw new Error(errorMessage.error || "Failed to create profile.");
            }
            const newProfile = await response.json();
            setProfiles([
                ...profiles,
                newProfile
            ]);
            // Initialize profile data
            setProfileData((prev)=>({
                    ...prev,
                    [newProfile.name]: {
                        description: "",
                        images: []
                    }
                }));
        } catch (error) {
            console.error("Error adding profile:", error);
            if (error instanceof Error) {
                alert(error.message);
            } else {
                alert("An unexpected error occurred.");
            }
        }
    };
    const deleteProfile = async (profileName)=>{
        const confirmDelete = window.confirm(`Are you sure you want to delete the profile: ${profileName}?`);
        if (!confirmDelete) {
            return; // Cancel deletion if user clicks "Cancel"
        }
        try {
            await fetch(`${API_URL}/profiles/${profileName}`, {
                method: "DELETE"
            });
            setProfiles(profiles.filter((profile)=>profile.name !== profileName));
            setSelectedProfile(null);
        } catch (error) {
            console.error("Error deleting profile:", error);
        }
    };
    const convertImageToBase64 = async (imageUrl)=>{
        try {
            const response = await fetch(imageUrl);
            const blob = await response.blob();
            return new Promise((resolve)=>{
                const reader = new FileReader();
                reader.onloadend = ()=>resolve(reader.result);
                reader.readAsDataURL(blob);
            });
        } catch (error) {
            console.error("Error converting image to Base64:", error);
            return "";
        }
    };
    let formattedHtml = "";
    const turndownService = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$turndown$2f$lib$2f$turndown$2e$es$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]();
    turndownService.addRule("list", {
        filter: [
            "ul",
            "ol"
        ],
        replacement: function(content, node) {
            return node.outerHTML; // Typecast `node` as `HTMLElement`
        }
    });
    /* Function to handle file uploads */ const handleFileUpload = async (event)=>{
        if (!selectedProfile) return;
        const file = event.target.files?.[0];
        if (!file) return;
        const fileName = file.name;
        // Store the file name (avoid unnecessary re-renders)
        setProfileData((prevData)=>({
                ...prevData,
                [selectedProfile]: {
                    ...prevData[selectedProfile],
                    uploadedFileName: fileName
                }
            }));
        const reader = new FileReader();
        if (file.type === "text/plain") {
            reader.onload = (e)=>{
                if (e.target?.result) {
                    const uploadedText = e.target.result.toString().trim();
                    console.log("Extracted Text Content:", uploadedText);
                    setUploadedText(uploadedText);
                    autoSaveToDatabase(uploadedText, uploadedImages);
                }
            };
            reader.readAsText(file);
        } else if (file.name.endsWith(".docx")) {
            reader.onload = async (e)=>{
                if (e.target?.result instanceof ArrayBuffer) {
                    try {
                        let formattedHtml = "";
                        // Extract HTML using `mammoth.convertToHtml()`
                        const mammothResult = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$mammoth$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].convertToHtml({
                            arrayBuffer: e.target.result
                        });
                        let extractedHtml = mammothResult.value.trim();
                        console.log("Mammoth Extracted Content (With Lists):", extractedHtml);
                        // Preserve bullet points & numbered lists properly
                        formattedHtml = extractedHtml.replace(/<p>\s*â€¢\s*/g, "<ul><li>") // Fix unordered lists
                        .replace(/<p>\s*\d+\.\s*/g, "<ol><li>") // Fix ordered lists
                        .replace(/<\/p>\s*<p>/g, "</li><li>") // Ensure list items are correctly wrapped
                        .replace(/<\/p>/g, "</li></ul>") // Close unordered lists properly
                        .replace(/<\/ol><\/li>/g, "</ol>") // Close ordered lists properly
                        .replace(/<\/li><\/ul>(?!<\/li>)/g, "</ul>"); // Remove misaligned list endings
                        console.log("Final Processed HTML (Fixed Lists):", formattedHtml);
                        // Process `docx-preview` but DO NOT append it to the UI
                        const docxContainer = document.createElement("div");
                        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$docx$2d$preview$2f$dist$2f$docx$2d$preview$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["renderAsync"])(e.target.result, docxContainer);
                        // Extract only relevant content, ignoring `docx-preview` elements
                        const extractedBodyContent = docxContainer.querySelector("article")?.innerHTML || "";
                        // Ensure used the most structured version
                        formattedHtml = extractedBodyContent.includes(formattedHtml) ? extractedBodyContent : extractedBodyContent || formattedHtml;
                        const tempContainer = document.createElement("div");
                        tempContainer.innerHTML = formattedHtml;
                        tempContainer.querySelectorAll("section.docx, .docx-wrapper").forEach((el)=>el.remove());
                        formattedHtml = tempContainer.innerHTML.trim();
                        formattedHtml = formattedHtml.replace(/<table/g, '<table style="border-collapse: collapse; width: 100%; border: 1px solid black;"').replace(/<td/g, '<td style="padding: 8px; border: 1px solid black;"').replace(/<ul/g, '<ul style="padding-left: 20px; list-style-type: disc; margin-top: 10px; margin-bottom: 10px;"').replace(/<ol/g, '<ol style="padding-left: 20px; list-style-type: decimal; margin-top: 10px; margin-bottom: 10px;"').replace(/<li/g, '<li style="margin-bottom: 5px;"'); // âœ… Ensure list items have proper spacing
                        formattedHtml = formattedHtml.replace(/<li><strong>/g, "<p><strong>").replace(/<\/strong><\/li>/g, "</strong></p>");
                        // Extract images & convert to Base64
                        const extractedImages = await Promise.all(Array.from(docxContainer.querySelectorAll("img")).map(async (img)=>{
                            const base64Image = await convertImageToBase64(img.src);
                            return {
                                src: base64Image,
                                alt: img.alt || "Uploaded image"
                            };
                        }));
                        // Store only cleaned & formatted content without `docx-preview`
                        setUploadedText(formattedHtml.trim());
                        setUploadedImages(extractedImages);
                        autoSaveToDatabase(formattedHtml.trim(), extractedImages);
                        document.querySelectorAll("section.docx, .docx-wrapper").forEach((el)=>el.remove());
                    } catch (error) {
                        console.error("Error processing .docx:", error);
                    }
                }
            };
            reader.readAsArrayBuffer(file);
        } else if (file.type.startsWith("image/")) {
            reader.onload = (e)=>{
                if (e.target?.result) {
                    const base64Image = e.target.result.toString();
                    const newImage = {
                        src: base64Image,
                        alt: "Uploaded image"
                    };
                    setUploadedImages((prevImages)=>[
                            ...prevImages,
                            newImage
                        ]);
                    autoSaveToDatabase(uploadedText, [
                        ...uploadedImages,
                        newImage
                    ]);
                }
            };
            reader.readAsDataURL(file);
        } else {
            alert("Invalid file type. Please upload a .txt, .docx, or an image file.");
        }
    };
    /* Function to Start Editing */ const startEditing = ()=>{
        if (!selectedProfile) return;
        setTempDescription(profileData[selectedProfile]?.description || "");
        setIsEditing(true);
        if (editor) {
            editor.commands.setContent(profileData[selectedProfile]?.description || "");
        }
    };
    /* Function to Save Edited Description */ const saveEditedDescription = async ()=>{
        if (!selectedProfile) return;
        const formattedText = editor?.getHTML() || "";
        try {
            await fetch(`${API_URL}/profiles/${selectedProfile}`, {
                method: "PUT",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    description: formattedText,
                    images: uploadedImages,
                    uploadedFileName: profileData[selectedProfile]?.uploadedFileName || ""
                })
            });
            // Update profileData to reflect saved changes
            setProfileData((prevData)=>({
                    ...prevData,
                    [selectedProfile]: {
                        description: formattedText,
                        images: uploadedImages,
                        uploadedFileName: profileData[selectedProfile]?.uploadedFileName || ""
                    }
                }));
            setIsEditing(false);
        } catch (error) {
            console.error("Error saving description:", error);
        }
    };
    const removeImage = (index)=>{
        if (!selectedProfile || !isEditing) return; // Ensure in edit mode
        setProfileData((prevData)=>{
            const updatedImages = (prevData[selectedProfile]?.images || []).filter((_, i)=>i !== index);
            return {
                ...prevData,
                [selectedProfile]: {
                    ...prevData[selectedProfile],
                    images: updatedImages
                }
            };
        });
        // Temporarily update images during editing
        setUploadedImages((prevImages)=>prevImages.filter((_, i)=>i !== index));
    };
    /* Sanitize Extracted HTML */ const sanitizeHTML = (html)=>{
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, "text/html");
        // Ensure lists (`<ul>`, `<ol>`, `<li>`) are preserved
        doc.querySelectorAll("p:empty, div:empty").forEach((node)=>node.remove());
        doc.querySelectorAll("br").forEach((node)=>node.remove());
        // Log extracted HTML to verify if lists exist before rendering
        console.log("Sanitized HTML Output:", doc.body.innerHTML);
        return doc.body.innerHTML;
    };
    /* Save to File */ const saveToFile = (format = "txt")=>{
        if (!uploadedText) {
            alert("No content to save.");
            return;
        }
        if (!selectedProfile) {
            alert("No profile selected.");
            return;
        }
        const sanitizedProfileName = selectedProfile.replace(/[^a-zA-Z0-9_-]/g, "");
        const readableText = convertHtmlToPlainText(uploadedText); // Convert HTML to plain text
        if (format === "txt") {
            const element = document.createElement("a");
            const file = new Blob([
                readableText
            ], {
                type: "text/plain"
            }); // Save as plain text
            element.href = URL.createObjectURL(file);
            element.download = `${sanitizedProfileName}_Specifications.txt`;
            document.body.appendChild(element);
            element.click();
        } else if (format === "docx") {
            const doc = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$docx$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Document"]({
                sections: [
                    {
                        properties: {},
                        children: readableText.split("\n").map((line)=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$docx$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Paragraph"](line))
                    }
                ]
            });
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$docx$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Packer"].toBlob(doc).then((blob)=>{
                const url = URL.createObjectURL(blob);
                const link = document.createElement("a");
                link.href = url;
                link.download = `${sanitizedProfileName}_Specifications.docx`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            });
        }
    };
    const cancelEditing = ()=>{
        setIsEditing(false);
    };
    const autoSaveToDatabase = async (text, images)=>{
        if (!selectedProfile) {
            alert("No profile selected.");
            return;
        }
        try {
            const response = await fetch(`${API_URL}/profiles/${selectedProfile}`, {
                method: "PUT",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    description: text,
                    images: images.map((img)=>img.src),
                    uploadedFileName: profileData[selectedProfile]?.uploadedFileName || ""
                })
            });
            if (response.ok) {
                console.log("Profile updated automatically.");
            } else {
                console.error("Error saving profile.");
            }
        } catch (error) {
            console.error("Error saving profile:", error);
        }
    };
    const convertHtmlToPlainText = (html)=>{
        const doc = new DOMParser().parseFromString(html, "text/html");
        return doc.body.textContent || "";
    };
    const editor = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$react$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["useEditor"])({
        extensions: [
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$starter$2d$kit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].configure({
                bulletList: false,
                orderedList: false
            }),
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$extension$2d$table$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].configure({
                resizable: true
            }),
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$extension$2d$table$2d$row$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"],
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$extension$2d$table$2d$cell$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"],
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$extension$2d$table$2d$header$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"],
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$extension$2d$bullet$2d$list$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"],
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$extension$2d$ordered$2d$list$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"],
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$extension$2d$list$2d$item$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]
        ],
        content: uploadedText,
        onUpdate: ({ editor })=>setTempDescription(editor.getHTML()),
        editorProps: {
            attributes: {
                class: "prose focus:outline-none"
            }
        },
        immediatelyRender: false
    });
    // Reset editor content when uploadedText changes
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (editor && uploadedText) {
            editor.commands.setContent(uploadedText); // Dynamically update editor content
        }
    }, [
        uploadedText,
        editor
    ]);
    const handleProfileSelect = (profileName)=>{
        if (!profileName) return; // Prevent errors
        setSelectedProfile(profileName);
        setShowAbout(false); // Close About Section when switching profiles
        // Ensure images are correctly set and do not become undefined
        const profile = profileData[profileName] || {
            description: "",
            images: [],
            uploadedFileName: ""
        };
        setUploadedImages(profile.images.length ? profile.images : []); // Ensure images exist
        setUploadedText(profile.description);
    };
    const toggleCheckout = async ()=>{
        if (!selectedProfile) return;
        if (!showCheckout) {
            // If opening the checkout section, ensure items are loaded
            await handleLoadCheckout(selectedProfile);
        }
        setShowCheckout(!showCheckout);
    };
    const toggleCheckoutEditMode = ()=>{
        console.log("Toggling Checkout Edit Mode");
        setIsCheckoutEditing((prev)=>!prev);
    };
    const { active } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useDndContext"])(); // Get active drag item
    // Define droppable state
    const { isOver: isOverTop, setNodeRef: topSectionRef } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useDroppable"])({
        id: "top-section",
        data: {
            type: "container",
            accepts: [
                "draggable-item"
            ],
            isDropZone: true
        },
        disabled: false
    });
    const { isOver: isOverBottom, setNodeRef: bottomSectionRef } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useDroppable"])({
        id: "bottom-section",
        data: {
            accepts: [
                "draggable-item"
            ],
            type: "container"
        }
    });
    // after the useDroppable hooks
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        console.log("Active Dragging Type:", active?.data?.current?.type);
    }, [
        active
    ]);
    // state to track the background color, to match checkout section's dynamic background
    const [checkoutBgColor, setCheckoutBgColor] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('var(--background-color, #ffffff)');
    // effect to update the background color when the theme changes
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const updateBackgroundColor = ()=>{
            const isDarkMode = document.documentElement.classList.contains('dark');
            setCheckoutBgColor(isDarkMode ? 'var(--dark-bg, #1a1a1a)' : 'var(--light-bg, #ffffff)');
        };
        // Initial update
        updateBackgroundColor();
        // Create observer for theme changes
        const observer = new MutationObserver((mutations)=>{
            mutations.forEach((mutation)=>{
                if (mutation.attributeName === 'class') {
                    updateBackgroundColor();
                }
            });
        });
        // Start observing theme changes
        observer.observe(document.documentElement, {
            attributes: true,
            attributeFilter: [
                'class'
            ]
        });
        return ()=>observer.disconnect();
    }, []);
    const lastValidDropZoneRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    let lastValidDropZone = null;
    // collision detection w better sensitivity
    const customCollisionDetection = (args)=>{
        const { collisionRect, droppableContainers } = args;
        const validDropZoneIds = new Set([
            "top-section",
            "bottom-section",
            "1",
            "2"
        ]);
        // Create expanded collision rect with larger detection area
        const expandedRect = {
            ...collisionRect,
            width: collisionRect.width + 60,
            height: collisionRect.height + 60,
            left: collisionRect.left - 30,
            right: collisionRect.right + 30,
            top: collisionRect.top - 30,
            bottom: collisionRect.bottom + 30
        };
        return droppableContainers.filter((container)=>validDropZoneIds.has(String(container.id))).map((container)=>{
            const element = document.querySelector(`[data-droppable-id="${container.id}"]`);
            if (!element) return null;
            const rect = element.getBoundingClientRect();
            const isTopSection = container.id === "top-section" || container.id === "1";
            // Add padding for better drop detection
            const adjustedRect = {
                top: rect.top - (isTopSection ? 40 : 20),
                bottom: rect.bottom + (isTopSection ? 40 : 20),
                left: rect.left - (isTopSection ? 40 : 20),
                right: rect.right + (isTopSection ? 40 : 20),
                width: rect.width + (isTopSection ? 80 : 40),
                height: rect.height + (isTopSection ? 80 : 40)
            };
            // More lenient intersection check
            const intersects = expandedRect.left < adjustedRect.right && expandedRect.right > adjustedRect.left && expandedRect.top < adjustedRect.bottom && expandedRect.bottom > adjustedRect.top;
            if (!intersects) return null;
            return {
                id: String(container.id),
                data: {
                    droppableContainer: {
                        id: String(container.id),
                        data: {
                            type: "container",
                            accepts: [
                                "draggable-item"
                            ],
                            isDropZone: isTopSection
                        }
                    },
                    value: isTopSection ? 2 : 1,
                    rect: adjustedRect
                }
            };
        }).filter((collision)=>collision !== null).sort((a, b)=>b.data.value - a.data.value);
    };
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!isCheckoutEditing) return; // Prevent execution if not in edit mode
        console.log("âœ… Registering Drop Zones (One-Time)");
        const topSection = document.querySelector('[data-droppable-id="1"]');
        const bottomSection = document.querySelector('[data-droppable-id="2"]');
        if (topSection) {
            topSection.setAttribute('data-droppable', 'true');
            topSection.setAttribute('data-type', 'container');
        }
        if (bottomSection) {
            bottomSection.setAttribute('data-droppable', 'true');
            bottomSection.setAttribute('data-type', 'container');
        }
        console.log("ðŸ” Found Drop Zones:", topSection, bottomSection);
        return ()=>{
            console.log("ðŸ›‘ Cleaning up Drop Zones (Once)");
        };
    }, [
        isCheckoutEditing
    ]);
    const sensors = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSensors"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSensor"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PointerSensor"], {
        activationConstraint: {
            distance: 2,
            tolerance: 5
        }
    }));
    // handleDragEnd function to preserve checkedOptions
    const handleDragEnd = (event)=>{
        const { active, over } = event;
        setActiveId(null);
        setDragging(false);
        if (!over) {
            console.log("âŒ No valid drop target detected");
            return;
        }
        const dropZoneId = String(over.id);
        const draggedItemId = String(active.id);
        console.log(`ðŸ› ï¸ Handling drop of item ${draggedItemId} into zone ${dropZoneId}`);
        const draggedItem = items.find((item)=>item.id === draggedItemId) || droppedItems.find((item)=>item.id === draggedItemId);
        if (!draggedItem) {
            console.log("âŒ Dragged item not found");
            return;
        }
        const isTopSection = dropZoneId === "top-section" || dropZoneId === "1";
        const isBottomSection = dropZoneId === "bottom-section" || dropZoneId === "2";
        // Preserve checkedOptions when moving between sections
        setDroppedItems((prevDroppedItems)=>{
            const alreadyInTop = prevDroppedItems.some((item)=>item.id === draggedItemId);
            if (isTopSection && !alreadyInTop) {
                console.log(`âœ… Adding item ${draggedItemId} to top section`);
                return [
                    ...prevDroppedItems,
                    {
                        ...draggedItem,
                        isDropped: true,
                        // Preserve checked options, or use default if none exist
                        checkedOptions: draggedItem.checkedOptions && Object.keys(draggedItem.checkedOptions).length > 0 ? draggedItem.checkedOptions : createDefaultCheckedOptions(draggedItem.options)
                    }
                ];
            }
            if (isBottomSection) {
                console.log(`âœ… Removing item ${draggedItemId} from top section`);
                return prevDroppedItems.filter((item)=>item.id !== draggedItemId);
            }
            return prevDroppedItems;
        });
        setItems((prevItems)=>{
            const updatedItems = prevItems.map((item)=>item.id === draggedItemId ? {
                    ...item,
                    isDropped: isTopSection,
                    // Preserve checked options, or use default if none exist
                    checkedOptions: item.checkedOptions && Object.keys(item.checkedOptions).length > 0 ? item.checkedOptions : createDefaultCheckedOptions(item.options)
                } : item);
            console.log("âœ… Updated items after drop:", updatedItems);
            return [
                ...updatedItems
            ]; // Ensure a new array reference for reactivity
        });
        // After updating state, save the checkout items to the database
        setTimeout(()=>{
            handleSaveCheckout();
        }, 200);
        // Rest of the function remains the same...
        setTimeout(()=>{
            console.log("ðŸ”„ FORCING FULL Reset of Drop Zones and SortableContext...");
            setDroppedItems((prev)=>[
                    ...prev
                ]);
            setItems((prev)=>[
                    ...prev
                ]); // âœ… Ensure full re-render
            // Force SortableContext to reset
            setSortableKey((prev)=>prev + 1);
        }, 200);
    };
    // "Start Test" button handler to only test checked options
    const handleStartTest = ()=>{
        console.log("ðŸš€ Start Test button clicked");
        // Check if droppedItems is empty
        if (droppedItems.length === 0) {
            console.warn("âš ï¸ No items in droppedItems, CheckoutTestProgress won't render");
            alert("Please add components to the checkout section before starting the test.");
            return;
        }
        // Filter the droppedItems and update the main state for visual consistency
        const itemsWithCheckedOptions = droppedItems.map((item)=>{
            // Get the options that are checked (true in checkedOptions)
            const checkedOptionsList = Object.entries(item.checkedOptions || {}).filter(([_, isChecked])=>isChecked).map(([option])=>option);
            // If no options are checked, include all options as a fallback AND mark them as visually checked
            if (checkedOptionsList.length === 0) {
                console.log(`âš ï¸ No options checked for ${item.header}, using all options as fallback and marking them as checked`);
                // Create a new checkedOptions object with all options set to true
                const allOptionsChecked = {};
                item.options.forEach((option)=>{
                    allOptionsChecked[option] = true;
                });
                return {
                    ...item,
                    options: item.options,
                    checkedOptions: allOptionsChecked // Mark all as visually checked
                };
            }
            // Return a version of the item with only the checked options
            return {
                ...item,
                options: checkedOptionsList // Replace with only the checked options
            };
        });
        // Update the actual droppedItems state to reflect the visual changes
        setDroppedItems((prev)=>{
            return prev.map((item)=>{
                const updatedItem = itemsWithCheckedOptions.find((updated)=>updated.id === item.id);
                if (updatedItem && Object.keys(item.checkedOptions || {}).length === 0) {
                    console.log(`Updating visual state for ${item.header} to show all options as checked`);
                    return {
                        ...item,
                        checkedOptions: updatedItem.checkedOptions
                    };
                }
                return item;
            });
        });
        // Also update the items state for consistency
        setItems((prev)=>{
            return prev.map((item)=>{
                const updatedItem = itemsWithCheckedOptions.find((updated)=>updated.id === item.id);
                if (updatedItem && Object.keys(item.checkedOptions || {}).length === 0) {
                    return {
                        ...item,
                        checkedOptions: updatedItem.checkedOptions
                    };
                }
                return item;
            });
        });
        // Make sure there's at least one item with options to test
        const hasTestableItems = itemsWithCheckedOptions.some((item)=>item.options.length > 0);
        if (!hasTestableItems) {
            alert("Please check at least one option in the checkout section before starting the test.");
            return;
        }
        // Store the filtered items for the test window to use
        localStorage.setItem('checkoutTestItems', JSON.stringify(itemsWithCheckedOptions));
        // Store a flag in localStorage to signal that the window should be open
        localStorage.setItem('showCheckoutTest', 'true');
        // Ensure we have a socket ready
        if (!mccSocket) {
            // Initialize a simulated socket
            const simSocket = {
                simulateRead: (params)=>params.map((p)=>`${p}=simulated`),
                send: async ()=>Promise.resolve(),
                receive: async ()=>Promise.resolve("simulated")
            };
            setMccSocket(simSocket);
        }
        // Update the state
        setShowCheckoutTest(true);
        // Force a re-render
        setDummyState((prev)=>!prev);
        console.log("CheckoutTest window should now be visible with checked options:", itemsWithCheckedOptions);
    };
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        // Check localStorage on component mount
        const shouldShowWindow = localStorage.getItem('showCheckoutTest') === 'true';
        if (shouldShowWindow) {
            console.log("ðŸ”„ Restoring CheckoutTest window from localStorage");
            setShowCheckoutTest(true);
        }
    }, []);
    // handleCloseCheckoutTest to also clear localStorage
    const handleCloseCheckoutTest = ()=>{
        console.log("ðŸ”´ Closing checkout test window");
        localStorage.removeItem('showCheckoutTest');
        setShowCheckoutTest(false);
    };
    // effect to maintain drop zones
    const hasUpdatedDropZones = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(false); // Prevent multiple updates
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!isCheckoutEditing) return;
        const startTime = performance.now(); // Start time measurement
        console.log("â³ Starting expensive operation...");
        // Simulating work
        const dropZones = document.querySelectorAll('[data-droppable-id]');
        dropZones.forEach((zone)=>{
            zone.setAttribute('data-droppable', 'true');
            zone.setAttribute('data-type', 'container');
        });
        const endTime = performance.now(); // End time measurement
        console.log(`âš¡ Expensive operation took ${endTime - startTime}ms`);
    }, [
        isCheckoutEditing
    ]);
    // useEffect to monitor state changes
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const itemsStatus = items.map((item)=>({
                id: item.id,
                isDropped: item.isDropped
            }));
        console.log('Items status:', itemsStatus);
        console.log('Dropped items:', droppedItems);
    }, [
        items,
        droppedItems
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        console.log("ðŸ”µ Drop zones mounted:", document.querySelectorAll("[data-droppable]"));
        setTimeout(()=>{
            const dropZones = document.querySelectorAll("[data-droppable]");
            console.log("âœ… Drop zones found in DOM:", dropZones);
            dropZones.forEach((zone)=>{
                console.log("ðŸ“ Drop Zone Element:", zone);
                console.log("ðŸ‘‰ Attributes:", zone.attributes);
                console.log("ðŸ“ Bounding Rect:", zone.getBoundingClientRect());
            });
        }, 500); // Delay ensures elements are fully rendered
    }, []);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        console.log("ðŸ”„ Drop zones reloaded. Current drop zones:", document.querySelectorAll("[data-droppable]"));
    }, []);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        document.querySelectorAll("[data-droppable]").forEach((el)=>console.log("ðŸ” Found Drop Zone ID:", el.id));
    }, []);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        document.querySelectorAll("[data-droppable]").forEach((el)=>console.log("âœ… Drop Zone Element ID:", el.id));
    }, []);
    const [, setRender] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        setTimeout(()=>{
            console.log("âœ… Forcing a re-render to ensure drop zones exist.");
            setRender((prev)=>!prev); // Toggle state to trigger re-render
        }, 100);
    }, []);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        console.log("ðŸ› ï¸ isCheckoutEditing changed:", isCheckoutEditing);
    }, [
        isCheckoutEditing
    ]);
    const dropZoneStyle = {
        minHeight: "250px",
        width: "100%",
        padding: "20px",
        boxSizing: "border-box",
        border: isOverTop ? "2px solid #2196F3" : "2px dashed #ccc",
        backgroundColor: isOverTop ? "rgba(33, 150, 243, 0.1)" : "transparent",
        position: "relative",
        zIndex: 1,
        touchAction: "none",
        userSelect: "none",
        overflow: "visible"
    };
    //handleSaveCheckout function to save the checked options state
    const handleSaveCheckout = async ()=>{
        if (!selectedProfile) {
            console.log("âŒ No active profile selected");
            return;
        }
        try {
            console.log("ðŸ’¾ Saving checkout items with checkbox states:", droppedItems);
            // Create a complete copy of droppedItems with all necessary properties
            const itemsToSave = droppedItems.map((item)=>({
                    id: item.id,
                    header: item.header,
                    options: item.options,
                    isDropped: true,
                    checkedOptions: item.checkedOptions || {} // Ensure always have checkedOptions
                }));
            // Retry logic for better persistence
            const saveWithRetry = async (retries = 3)=>{
                try {
                    const response = await fetch(`${API_URL}/checkout/save`, {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({
                            profile_id: selectedProfile,
                            items: itemsToSave
                        }),
                        mode: 'cors',
                        credentials: 'omit' // Don't send credentials
                    });
                    if (!response.ok) {
                        throw new Error(`Server error: ${response.status}`);
                    }
                    return await response.json();
                } catch (error) {
                    if (retries > 0) {
                        console.log(`âš ï¸ Retry saving (${retries} attempts left)...`);
                        await new Promise((resolve)=>setTimeout(resolve, 500));
                        return saveWithRetry(retries - 1);
                    }
                    throw error;
                }
            };
            const result = await saveWithRetry();
            console.log(`âœ… Checkout items saved for profile ${selectedProfile}:`, result);
            // Also save to localStorage as a backup
            localStorage.setItem(`checkout_items_${selectedProfile}`, JSON.stringify(itemsToSave));
        } catch (error) {
            console.error("âŒ Error saving checkout items:", error);
            // Try to save to localStorage as a fallback
            localStorage.setItem(`checkout_items_${selectedProfile}`, JSON.stringify(droppedItems));
        }
    };
    const handleCancelCheckout = async ()=>{
        if (!selectedProfile) {
            console.log("âŒ No active profile selected");
            return;
        }
        try {
            const response = await fetch(`${API_URL}/checkout/load/${selectedProfile}`);
            if (!response.ok) {
                throw new Error(`Server error: ${response.status}`);
            }
            const result = await response.json();
            setDroppedItems(result.items);
            console.log(`ðŸ”„ Restored checkout items for profile ${selectedProfile}:`, result.items);
        } catch (error) {
            console.error("âŒ Error loading previous checkout items:", error);
        }
    };
    // handleLoadCheckout function with proper typing
    // with better error handling and CORS configuration
    const handleLoadCheckout = async (profileId)=>{
        try {
            console.log(`ðŸ“ Loading checkout items for profile: ${profileId}`);
            // Create AbortController to set a timeout on the fetch
            const controller = new AbortController();
            const timeoutId = setTimeout(()=>controller.abort(), 10000); // 10 second timeout
            const response = await fetch(`${API_URL}/checkout/load/${profileId}`, {
                method: 'GET',
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                mode: 'cors',
                credentials: 'omit',
                signal: controller.signal // timeout signal
            });
            // Clear the timeout
            clearTimeout(timeoutId);
            console.log(`ðŸ“ Response status: ${response.status}`);
            if (!response.ok) {
                console.warn(`Server returned error status: ${response.status}`);
                throw new Error(`Server error: ${response.status}`);
            }
            // Try to parse the response, with error handling for invalid JSON
            const result = await response.json().catch((e)=>{
                console.error("Error parsing JSON response:", e);
                return {
                    error: "Invalid JSON response",
                    items: []
                };
            });
            if (result.items && Array.isArray(result.items)) {
                // Ensure each item has a checkedOptions object and isDropped flag
                const loadedItems = result.items.map((item)=>({
                        ...item,
                        isDropped: true,
                        // Ensure loaded items have proper checked options, or use defaults
                        checkedOptions: item.checkedOptions && Object.keys(item.checkedOptions).length > 0 ? item.checkedOptions : createDefaultCheckedOptions(item.options)
                    }));
                // Set dropped items first
                setDroppedItems(loadedItems);
                // Make a copy of the original items
                setItems((prevItems)=>{
                    const updatedItems = [
                        ...prevItems
                    ];
                    // Mark dropped items in the items array
                    updatedItems.forEach((item)=>{
                        // Check if this item exists in loadedItems
                        const matchingItem = loadedItems.find((loaded)=>loaded.id === item.id);
                        if (matchingItem) {
                            // Update to match the loaded state
                            item.isDropped = true;
                            item.checkedOptions = {
                                ...matchingItem.checkedOptions
                            };
                        } else {
                            // Make sure it's marked as not dropped but has default checked options
                            item.isDropped = false;
                            item.checkedOptions = createDefaultCheckedOptions(item.options);
                        }
                    });
                    return updatedItems;
                });
                console.log(`âœ… Loaded checkout items for profile ${profileId}:`, loadedItems);
            } else {
                console.log(`â„¹ï¸ No saved checkout items found for profile ${profileId}`);
                setDroppedItems([]);
                // Reset the dropped state in the items array with default checked options
                setItems((prevItems)=>prevItems.map((item)=>({
                            ...item,
                            isDropped: false,
                            checkedOptions: createDefaultCheckedOptions(item.options) // Use default checked
                        })));
            }
        } catch (error) {
            console.error("âŒ Error loading checkout items for profile:", error);
            // Try fallback from localStorage
            tryLocalStorageFallback(profileId);
        }
    };
    // Extract the localStorage fallback into a separate function for better readability
    const tryLocalStorageFallback = (profileId)=>{
        try {
            const localStorageKey = `checkout_items_${profileId}`;
            const savedItems = localStorage.getItem(localStorageKey);
            if (savedItems) {
                console.log(`ðŸ”„ Falling back to localStorage for profile ${profileId}`);
                const parsedItems = JSON.parse(savedItems);
                if (Array.isArray(parsedItems) && parsedItems.length > 0) {
                    setDroppedItems(parsedItems);
                    // Also update the items array with isDropped flags
                    setItems((prevItems)=>{
                        const updatedItems = [
                            ...prevItems
                        ];
                        updatedItems.forEach((item)=>{
                            const matchingItem = parsedItems.find((saved)=>saved.id === item.id);
                            if (matchingItem) {
                                item.isDropped = true;
                                item.checkedOptions = {
                                    ...matchingItem.checkedOptions
                                };
                            } else {
                                item.isDropped = false;
                            }
                        });
                        return updatedItems;
                    });
                    console.log(`âœ… Successfully loaded ${parsedItems.length} items from localStorage`);
                    return; // Exit early since we successfully restored from localStorage
                }
            }
            // If localStorage fallback fails or is empty, reset everything
            resetItemStates();
        } catch (localStorageError) {
            console.error("âŒ Error accessing localStorage fallback:", localStorageError);
            resetItemStates();
        }
    };
    // Extract reset logic to a separate function
    const resetItemStates = ()=>{
        setDroppedItems([]);
        // Reset the items array with default checked options
        setItems((prevItems)=>prevItems.map((item)=>({
                    ...item,
                    isDropped: false,
                    checkedOptions: createDefaultCheckedOptions(item.options) // Use default checked instead of empty
                })));
    };
    // load checkout items with their checkbox states
    const handleProfileChange = async (profileId)=>{
        console.log(`ðŸ”„ Profile changed: ${profileId}`);
        setSelectedProfile(profileId);
        localStorage.setItem('currentProfileId', profileId);
        await handleLoadCheckout(profileId);
    };
    // useEffect for profile changes to load checkout items immediately
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (selectedProfile) {
            // small delay to ensure database connections are ready
            const timer = setTimeout(()=>{
                handleLoadCheckout(selectedProfile);
            }, 50);
            return ()=>clearTimeout(timer);
        }
    }, [
        selectedProfile
    ]);
    // effect to ensure items and droppedItems stay in sync
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        // This ensures items marked as dropped appear in droppedItems
        const droppedIds = droppedItems.map((item)=>item.id);
        // Check if there are items that should be in droppedItems but aren't
        const itemsThatShouldBeDropped = items.filter((item)=>item.isDropped && !droppedIds.includes(item.id));
        // If found inconsistencies, fix them
        if (itemsThatShouldBeDropped.length > 0) {
            console.log("âš ï¸ Found inconsistent dropped state, fixing...");
            setDroppedItems((prev)=>[
                    ...prev,
                    ...itemsThatShouldBeDropped
                ]);
        }
    }, [
        items,
        droppedItems
    ]);
    // useEffect to better initialize the MCC socket
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (showCheckoutTest && !mccSocket) {
            // Initialize a simulated MCC socket for testing
            const initMccSocket = async ()=>{
                try {
                    console.log("Attempting to create MCC socket...");
                    // Force simulation mode for testing purposes
                    const socket = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$mccUtils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["connectToMcc"])("localhost:8080");
                    if (socket) {
                        setMccSocket(socket);
                        console.log("âœ… MCC socket initialized for testing");
                    } else {
                        console.warn("âš ï¸ Socket is null, using simulation fallback");
                        // Create a minimal simulation object that implements the necessary methods
                        const simulatedSocket = {
                            simulateRead: (parameters)=>{
                                // Return simulated values for each parameter
                                return parameters.map((param)=>`${param}=simulated`);
                            },
                            send: async (message)=>{
                                console.log(`[SIM] Sending message: ${message}`);
                                return Promise.resolve();
                            },
                            receive: async ()=>{
                                console.log(`[SIM] Receiving data`);
                                return Promise.resolve("simulated response");
                            }
                        };
                        setMccSocket(simulatedSocket);
                    }
                } catch (error) {
                    console.error("âŒ Error initializing MCC socket:", error);
                    // Create a fallback simulation
                    const simulatedSocket = {
                        simulateRead: (parameters)=>{
                            // Return simulated values for each parameter
                            return parameters.map((param)=>`${param}=simulated`);
                        },
                        send: async (message)=>{
                            console.log(`[SIM] Sending message: ${message}`);
                            return Promise.resolve();
                        },
                        receive: async ()=>{
                            console.log(`[SIM] Receiving data`);
                            return Promise.resolve("simulated response");
                        }
                    };
                    setMccSocket(simulatedSocket);
                }
            };
            initMccSocket();
        }
    }, [
        showCheckoutTest,
        mccSocket
    ]);
    console.log("Rendering MainScreen:");
    console.log("showToTestList:", showToTestList);
    console.log("showThreeDModelWindow:", showThreeDModelWindow);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        console.log("ðŸ” Checking if CheckoutTestProgress exists:", !!__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$CheckoutTestProgress$2f$CheckoutTestProgress$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]);
        if (!__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$CheckoutTestProgress$2f$CheckoutTestProgress$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"]) {
            console.error("âŒ CheckoutTestProgress component is undefined!");
        }
    }, []);
    // Initialize mccSocket once on component mount instead of waiting
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        // Create a simple simulated socket if it doesn't exist yet
        if (!mccSocket) {
            console.log("ðŸ”„ Pre-initializing simulated MCC socket");
            // Create a simple simulated socket for testing
            const simulatedSocket = {
                simulateRead: (parameters)=>{
                    return parameters.map((param)=>{
                        // Generate simulated values for common parameters
                        if (param.includes("FW_Ver")) {
                            const version = param.includes("Major") ? "1" : param.includes("Minor") ? "2" : "3";
                            return `${param}=${version}`;
                        } else if (param.includes("3V3") || param.includes("5V")) {
                            // Voltage values in mV
                            return `${param}=${3300 + Math.floor(Math.random() * 100)}`;
                        } else if (param.includes("temp") || param.includes("Temp")) {
                            // Temperature values
                            return `${param}=${20 + Math.floor(Math.random() * 10)}`;
                        } else if (param.includes("eMMC")) {
                            return `${param}=1`;
                        } else {
                            return `${param}=simulated`;
                        }
                    });
                },
                send: async (message)=>{
                    console.log(`[SIM] Sending: ${message}`);
                    return Promise.resolve();
                },
                receive: async ()=>{
                    return Promise.resolve("simulated response");
                }
            };
            setMccSocket(simulatedSocket);
        }
    }, [
        mccSocket
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$mccUtils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["setSimulationMode"])(false);
    }, []);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        // Attempt to retrieve the socket info
        const socketInfoStr = localStorage.getItem('mccSocketInfo');
        if (socketInfoStr) {
            try {
                const socketInfo = JSON.parse(socketInfoStr);
                if (socketInfo.isReal && socketInfo.address) {
                    console.log(`Reconnecting to real MCC server at ${socketInfo.address}`);
                    // Create a real socket connection
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$utils$2f$mccUtils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["connectToMcc"])(socketInfo.address).then((socket)=>{
                        if (socket) {
                            console.log("âœ… Successfully reconnected to real MCC server");
                            setMccSocket(socket);
                        }
                    }).catch((err)=>{
                        console.error("âŒ Failed to reconnect to MCC server:", err);
                    });
                }
            } catch (error) {
                console.error("Error parsing socket info:", error);
            }
        }
    }, []);
    // Update useEffect to watch for changes from parent
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        setSettingsWindowVisible(showSettingsWindow);
    }, [
        showSettingsWindow
    ]);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].mainScreen,
        children: [
            !isSidebarOpen && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].retractExpandSidebarButton,
                onClick: toggleSidebar,
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaBars"], {}, void 0, false, {
                    fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                    lineNumber: 1734,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                lineNumber: 1730,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: `${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].sidebar} ${isSidebarOpen ? "" : __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].hidden}`,
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].sidebarHeader,
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: "Menu"
                            }, void 0, false, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 1740,
                                columnNumber: 9
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].toggleButton,
                                onClick: toggleSidebar,
                                children: "â˜°"
                            }, void 0, false, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 1741,
                                columnNumber: 9
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                        lineNumber: 1739,
                        columnNumber: 7
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("ul", {
                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].menu,
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("li", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].menuItem,
                                onClick: ()=>setSelectedProfile(null),
                                children: "Home"
                            }, void 0, false, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 1746,
                                columnNumber: 9
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("li", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].menuItem,
                                onClick: (e)=>{
                                    e.preventDefault();
                                    e.stopPropagation();
                                    console.log("ðŸ” Focused visibility fix initiated");
                                    // Toggle the window
                                    if (showToTestList) {
                                        console.log("Closing ToTestList");
                                        closeToTestList();
                                    } else {
                                        console.log("Opening ToTestList and bringing to front");
                                        openToTestList();
                                        // Ensure window is visible and positioned correctly
                                        setTimeout(()=>{
                                            const toTestListWindow = document.querySelector('[data-window="ToTestList"]');
                                            if (toTestListWindow) {
                                                console.log("ToTestList found, ensuring visibility and position");
                                                // Ensure the window is visible
                                                toTestListWindow.style.visibility = 'visible';
                                                toTestListWindow.style.display = 'block';
                                                toTestListWindow.style.opacity = '1';
                                                // Bring to front
                                                bringWindowToFront("ToTestList");
                                                // Force position to center if it's off-screen
                                                const windowRect = toTestListWindow.getBoundingClientRect();
                                                if (windowRect.left < 0 || windowRect.top < 0 || windowRect.right > window.innerWidth || windowRect.bottom > window.innerHeight) {
                                                    console.log("Window appears to be off-screen, centering it");
                                                    // Try to set position through sessionStorage
                                                    try {
                                                        const centerPosition = {
                                                            x: (window.innerWidth - 800) / 2,
                                                            y: (window.innerHeight - 500) / 2
                                                        };
                                                        sessionStorage.setItem('toTestListPosition', JSON.stringify(centerPosition));
                                                        console.log("Set centered position:", centerPosition);
                                                        // Attempt to force position directly
                                                        const draggableElement = toTestListWindow.querySelector('[style*="transform"]');
                                                        if (draggableElement) {
                                                            draggableElement.style.transform = `translate(${centerPosition.x}px, ${centerPosition.y}px)`;
                                                        }
                                                        // Last resort: reload the page
                                                        window.location.reload();
                                                    } catch (error) {
                                                        console.error("Error centering window:", error);
                                                    }
                                                }
                                            }
                                        }, 100);
                                    }
                                },
                                children: "Tests to Conduct"
                            }, void 0, false, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 1750,
                                columnNumber: 1
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("li", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].menuItem,
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].profileContainer,
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                            className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].profilesButton,
                                            onClick: toggleProfileDropdown,
                                            children: "Profiles"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                            lineNumber: 1817,
                                            columnNumber: 13
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].profileButtonGroup,
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                    className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].dropdownButton,
                                                    onClick: toggleProfileDropdown,
                                                    children: isProfileDropdownOpen ? "â–²" : "â–¼"
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                    lineNumber: 1824,
                                                    columnNumber: 15
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                    className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].addProfileButton,
                                                    onClick: addProfile,
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaPlus"], {}, void 0, false, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 1834,
                                                        columnNumber: 17
                                                    }, this)
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                    lineNumber: 1830,
                                                    columnNumber: 15
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                            lineNumber: 1823,
                                            columnNumber: 13
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                    lineNumber: 1816,
                                    columnNumber: 11
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 1815,
                                columnNumber: 9
                            }, this),
                            isProfileDropdownOpen && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("ul", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].profileDropdown,
                                children: profiles.map((profile)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("li", {
                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].profileSidebarItem,
                                        onClick: ()=>{
                                            handleProfileChange(profile.name); // Ensure checkout items load per profile
                                        },
                                        children: profile.name
                                    }, profile.id || profile.name, false, {
                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                        lineNumber: 1842,
                                        columnNumber: 13
                                    }, this))
                            }, void 0, false, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 1840,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                        lineNumber: 1745,
                        columnNumber: 7
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].settingsContainer,
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                            className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].settingsButton,
                            onClick: ()=>{
                                openSettingsWindow();
                            },
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaCog"], {}, void 0, false, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 1863,
                                columnNumber: 11
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                            lineNumber: 1857,
                            columnNumber: 7
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                        lineNumber: 1856,
                        columnNumber: 7
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                lineNumber: 1738,
                columnNumber: 5
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].content,
                children: [
                    selectedProfile ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].profilePage,
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].profileHeading,
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                                        children: selectedProfile
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                        lineNumber: 1872,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].deleteButton,
                                        onClick: ()=>deleteProfile(selectedProfile),
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaTrash"], {}, void 0, false, {
                                            fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                            lineNumber: 1877,
                                            columnNumber: 15
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                        lineNumber: 1873,
                                        columnNumber: 13
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 1871,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].aboutButton,
                                onClick: toggleAbout,
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaInfoCircle"], {}, void 0, false, {
                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                        lineNumber: 1883,
                                        columnNumber: 13
                                    }, this),
                                    " About/Specifications"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 1882,
                                columnNumber: 11
                            }, this),
                            showAbout && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: `${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].aboutSection} ${document.documentElement.classList.contains("dark") ? __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].darkMode : ""}`,
                                children: [
                                    isEditing ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "toolbar",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                        onClick: ()=>editor?.chain().focus().toggleBulletList().run(),
                                                        children: "Bullet List"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 1900,
                                                        columnNumber: 21
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                        onClick: ()=>editor?.chain().focus().toggleOrderedList().run(),
                                                        children: "Ordered List"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 1903,
                                                        columnNumber: 21
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 1899,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$tiptap$2f$react$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["EditorContent"], {
                                                editor: editor,
                                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].richTextEditor
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 1908,
                                                columnNumber: 19
                                            }, this),
                                            uploadedImages.length > 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].imageContainer,
                                                children: uploadedImages.map((image, index)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].imageWrapper,
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                                                src: image.src,
                                                                alt: image.alt,
                                                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].uploadedImage
                                                            }, void 0, false, {
                                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                                lineNumber: 1915,
                                                                columnNumber: 27
                                                            }, this),
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].removeImageButton,
                                                                onClick: ()=>removeImage(index),
                                                                children: "âœ–"
                                                            }, void 0, false, {
                                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                                lineNumber: 1921,
                                                                columnNumber: 27
                                                            }, this)
                                                        ]
                                                    }, index, true, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 1914,
                                                        columnNumber: 25
                                                    }, this))
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 1912,
                                                columnNumber: 21
                                            }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].imagePlaceholder,
                                                children: "No images uploaded"
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 1931,
                                                columnNumber: 21
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].uploadContainer,
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                        type: "file",
                                                        accept: ".txt, .docx",
                                                        onChange: handleFileUpload,
                                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].uploadInput
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 1936,
                                                        columnNumber: 21
                                                    }, this),
                                                    selectedProfile && profileData[selectedProfile]?.uploadedFileName && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                        children: [
                                                            "Uploaded: ",
                                                            profileData[selectedProfile].uploadedFileName
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 1945,
                                                        columnNumber: 25
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 1935,
                                                columnNumber: 19
                                            }, this)
                                        ]
                                    }, void 0, true) : /* Normal Mode: Display Formatted Content */ /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                dangerouslySetInnerHTML: {
                                                    __html: sanitizeHTML(profileData[selectedProfile]?.description || "<p>No description available.</p>")
                                                }
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 1952,
                                                columnNumber: 19
                                            }, this),
                                            profileData[selectedProfile]?.images.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].imageContainer,
                                                children: selectedProfile && profileData[selectedProfile]?.images.map((image, index)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].imageWrapper,
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                                            src: image.src,
                                                            alt: image.alt,
                                                            className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].uploadedImage,
                                                            onError: (e)=>e.currentTarget.src = "/fallback-image.png"
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                            lineNumber: 1962,
                                                            columnNumber: 27
                                                        }, this)
                                                    }, index, false, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 1961,
                                                        columnNumber: 25
                                                    }, this))
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 1959,
                                                columnNumber: 21
                                            }, this)
                                        ]
                                    }, void 0, true),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].actionButtons,
                                        children: [
                                            !isEditing && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                        onClick: ()=>saveToFile("txt"),
                                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].downloadButton,
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaDownload"], {}, void 0, false, {
                                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                                lineNumber: 1983,
                                                                columnNumber: 25
                                                            }, this),
                                                            " Save as .TXT"
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 1979,
                                                        columnNumber: 23
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                        onClick: ()=>saveToFile("docx"),
                                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].downloadButton,
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaDownload"], {}, void 0, false, {
                                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                                lineNumber: 1989,
                                                                columnNumber: 25
                                                            }, this),
                                                            " Save as .DOCX"
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 1985,
                                                        columnNumber: 23
                                                    }, this)
                                                ]
                                            }, void 0, true),
                                            isEditing ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                        onClick: saveEditedDescription,
                                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].saveButton,
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaCheck"], {}, void 0, false, {
                                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                                lineNumber: 1999,
                                                                columnNumber: 25
                                                            }, this),
                                                            " Save"
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 1995,
                                                        columnNumber: 23
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                        onClick: cancelEditing,
                                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].cancelButton,
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaTimes"], {}, void 0, false, {
                                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                                lineNumber: 2005,
                                                                columnNumber: 25
                                                            }, this),
                                                            " Cancel"
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 2001,
                                                        columnNumber: 23
                                                    }, this)
                                                ]
                                            }, void 0, true) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].editButton,
                                                onClick: startEditing,
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaEdit"], {}, void 0, false, {
                                                    fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                    lineNumber: 2010,
                                                    columnNumber: 23
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 2009,
                                                columnNumber: 21
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                        lineNumber: 1976,
                                        columnNumber: 17
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 1888,
                                columnNumber: 13
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].testTypeHeader,
                                children: "Test Type"
                            }, void 0, false, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 2018,
                                columnNumber: 15
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].checkoutButton,
                                onClick: toggleCheckout,
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaWrench"], {}, void 0, false, {
                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                        lineNumber: 2020,
                                        columnNumber: 17
                                    }, this),
                                    " Checkout"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 2019,
                                columnNumber: 15
                            }, this),
                            showCheckout && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].checkoutSection,
                                style: {
                                    backgroundColor: checkoutBgColor,
                                    transition: 'background-color 0.3s ease'
                                },
                                children: [
                                    (()=>{
                                        console.log("ðŸ”„ Checkout Section Re-rendered");
                                        return null;
                                    })(),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].checkoutHeader,
                                        style: {
                                            display: 'flex',
                                            alignItems: 'center'
                                        },
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                                style: {
                                                    marginRight: '10px'
                                                },
                                                children: "Test Selection:"
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 2035,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].editButton,
                                                onClick: toggleCheckoutEditMode,
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaEdit"], {}, void 0, false, {
                                                    fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                    lineNumber: 2037,
                                                    columnNumber: 21
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 2036,
                                                columnNumber: 19
                                            }, this),
                                            !isCheckoutEditing && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].startTestButton,
                                                style: {
                                                    marginLeft: 'auto'
                                                },
                                                onClick: handleStartTest,
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaPlay"], {}, void 0, false, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 2046,
                                                        columnNumber: 5
                                                    }, this),
                                                    " Start Test"
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 2041,
                                                columnNumber: 3
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                        lineNumber: 2034,
                                        columnNumber: 17
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DndContext"], {
                                        sensors: sensors,
                                        collisionDetection: customCollisionDetection,
                                        onDragStart: ({ active })=>{
                                            setActiveId(String(active.id));
                                            setDragging(true);
                                        },
                                        onDragEnd: handleDragEnd,
                                        onDragCancel: ()=>{
                                            setActiveId(null);
                                            setDragging(false);
                                        },
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                ref: topSectionRef,
                                                id: "top-section",
                                                "data-id": "1",
                                                "data-droppable": "true",
                                                "data-droppable-id": "1",
                                                "data-type": "container",
                                                className: `${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].topSection} dropZoneArea ${isOverTop ? "isOver" : ""}`,
                                                "data-is-over": isOverTop ? "true" : "false",
                                                style: dropZoneStyle,
                                                children: [
                                                    droppedItems.length === 0 && isCheckoutEditing && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        style: {
                                                            position: "absolute",
                                                            top: "50%",
                                                            left: "50%",
                                                            transform: "translate(-50%, -50%)",
                                                            color: "#666",
                                                            fontStyle: "italic"
                                                        },
                                                        children: "Drop items here"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 2078,
                                                        columnNumber: 7
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SortableContext"], {
                                                        items: droppedItems,
                                                        strategy: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["verticalListSortingStrategy"],
                                                        children: droppedItems.map((item)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].droppableBox,
                                                                style: {
                                                                    position: 'relative',
                                                                    overflow: 'visible'
                                                                },
                                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$DraggableBox$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                                                                    id: item.id,
                                                                    header: item.header,
                                                                    options: item.options,
                                                                    data: {
                                                                        type: "draggable-item"
                                                                    },
                                                                    isDropped: true,
                                                                    removeDroppedItem: removeDroppedItem,
                                                                    isCheckoutEditing: isCheckoutEditing,
                                                                    checkedOptions: item.checkedOptions,
                                                                    onOptionChange: handleOptionChange
                                                                }, void 0, false, {
                                                                    fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                                    lineNumber: 2092,
                                                                    columnNumber: 7
                                                                }, this)
                                                            }, `top-${item.id}`, false, {
                                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                                lineNumber: 2091,
                                                                columnNumber: 5
                                                            }, this))
                                                    }, sortableKey, false, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 2089,
                                                        columnNumber: 1
                                                    }, this)
                                                ]
                                            }, "top-section", true, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 2065,
                                                columnNumber: 3
                                            }, this),
                                            isCheckoutEditing && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                ref: bottomSectionRef,
                                                id: "bottom-section",
                                                "data-id": "2",
                                                "data-droppable": "true",
                                                "data-droppable-id": "2",
                                                "data-type": "container",
                                                "data-current": '{"type": "container"}',
                                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].bottomSection,
                                                style: {
                                                    minHeight: "200px",
                                                    padding: "20px",
                                                    position: "relative",
                                                    border: isOverBottom ? "2px solid #2196F3" : "2px dashed #ccc",
                                                    backgroundColor: isOverBottom ? "rgba(33, 150, 243, 0.1)" : "transparent",
                                                    touchAction: "none",
                                                    userSelect: "none",
                                                    display: "grid",
                                                    gridTemplateColumns: "repeat(auto-fill, minmax(150px, 1fr))",
                                                    gap: "10px",
                                                    pointerEvents: "auto" // Add this to ensure dragging works
                                                },
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h4", {
                                                        children: "Available Components"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 2133,
                                                        columnNumber: 3
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SortableContext"], {
                                                        items: items,
                                                        strategy: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["verticalListSortingStrategy"],
                                                        children: items.map((item)=>{
                                                            const isInTopSection = droppedItems.some((droppedItem)=>droppedItem.id === item.id);
                                                            return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].dragItem,
                                                                "data-draggable-id": item.id,
                                                                "data-dropped": isInTopSection ? "true" : "false",
                                                                style: {
                                                                    opacity: isInTopSection ? 0.3 : 1,
                                                                    pointerEvents: isInTopSection ? 'none' : 'auto',
                                                                    cursor: isInTopSection ? 'not-allowed' : 'grab'
                                                                },
                                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$DraggableBox$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                                                                    id: item.id,
                                                                    header: item.header,
                                                                    options: item.options,
                                                                    data: {
                                                                        type: "draggable-item"
                                                                    },
                                                                    isDropped: isInTopSection,
                                                                    isInBottomSection: true,
                                                                    checkedOptions: item.checkedOptions,
                                                                    onOptionChange: handleOptionChange
                                                                }, void 0, false, {
                                                                    fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                                    lineNumber: 2150,
                                                                    columnNumber: 7
                                                                }, this)
                                                            }, `bottom-${item.id}`, false, {
                                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                                lineNumber: 2139,
                                                                columnNumber: 5
                                                            }, this);
                                                        })
                                                    }, sortableKey, false, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 2134,
                                                        columnNumber: 3
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 2110,
                                                columnNumber: 5
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DragOverlay"], {
                                                children: activeId ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$DraggableBox$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                                                    id: activeId,
                                                    header: (items.find((item)=>item.id === activeId) || droppedItems.find((item)=>item.id === activeId))?.header || "",
                                                    options: (items.find((item)=>item.id === activeId) || droppedItems.find((item)=>item.id === activeId))?.options || [],
                                                    data: {
                                                        type: "draggable-item"
                                                    }
                                                }, void 0, false, {
                                                    fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                    lineNumber: 2169,
                                                    columnNumber: 5
                                                }, this) : null
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 2167,
                                                columnNumber: 1
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                        lineNumber: 2051,
                                        columnNumber: 17
                                    }, this),
                                    isCheckoutEditing && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].editModeButtons,
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].saveButton,
                                                onClick: ()=>{
                                                    handleSaveCheckout();
                                                    toggleCheckoutEditMode(); // Exit edit mode after saving
                                                },
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaCheck"], {}, void 0, false, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 2186,
                                                        columnNumber: 21
                                                    }, this),
                                                    " Save"
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 2182,
                                                columnNumber: 1
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].cancelButton,
                                                onClick: ()=>{
                                                    handleCancelCheckout();
                                                    toggleCheckoutEditMode(); // Exit edit mode after canceling
                                                },
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaTimes"], {}, void 0, false, {
                                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                        lineNumber: 2192,
                                                        columnNumber: 21
                                                    }, this),
                                                    " Cancel"
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                                lineNumber: 2188,
                                                columnNumber: 19
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                        lineNumber: 2181,
                                        columnNumber: 17
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 2025,
                                columnNumber: 17
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].ThreeDModelViewerHeader,
                                children: "Satellite Model Viewer"
                            }, void 0, false, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 2198,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].threeDModelButton,
                                onClick: (e)=>{
                                    e.preventDefault();
                                    console.log("ðŸ”˜ 3D Model button clicked");
                                    // Find the profile to get its ID
                                    const profile = profiles.find((p)=>p.name === selectedProfile);
                                    const profileId = profile?.id || 1;
                                    console.log(`ðŸ“± Opening 3D Model window for profile ID: ${profileId}`);
                                    // Ensure any pending state updates are completed first
                                    setTimeout(()=>{
                                        // Call the openModelWindow function provided through props
                                        openModelWindow(profileId);
                                        // Log the state after opening
                                        setTimeout(()=>{
                                            console.log("ðŸ” After 3D Model button click:");
                                            console.log("- showThreeDModelWindow:", showThreeDModelWindow);
                                            console.log("- threeDModelProfileId:", threeDModelProfileId);
                                        }, 100);
                                    }, 50);
                                },
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$icons$2f$fa$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FaCube"], {}, void 0, false, {
                                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                        lineNumber: 2226,
                                        columnNumber: 3
                                    }, this),
                                    " 3D Model Viewer"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 2200,
                                columnNumber: 1
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                        lineNumber: 1870,
                        columnNumber: 9
                    }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].profilePage,
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].profileHeading,
                                children: "Satellite Automated Testing System"
                            }, void 0, false, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 2232,
                                columnNumber: 13
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$MainScreen$2f$MainScreen$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].profileSubtext,
                                children: "Navigate using the side panel"
                            }, void 0, false, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 2233,
                                columnNumber: 13
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                        lineNumber: 2231,
                        columnNumber: 11
                    }, this),
                    (()=>{
                        console.log("ðŸ” Rendering MainScreen component");
                        console.log("- showCheckoutTest:", showCheckoutTest);
                        console.log("- droppedItems length:", droppedItems.length);
                        return null;
                    })(),
                    (showCheckoutTest || localStorage.getItem('showCheckoutTest') === 'true') && droppedItems.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        id: "checkout-test-container",
                        style: {
                            position: 'relative',
                            zIndex: 9999
                        },
                        children: [
                            (()=>{
                                console.log("â­ Rendering CheckoutTestProgress window", {
                                    showCheckoutTest,
                                    localStorageValue: localStorage.getItem('showCheckoutTest'),
                                    droppedItemsLength: droppedItems.length
                                });
                                return null;
                            })(),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$CheckoutTestProgress$2f$CheckoutTestProgress$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                                droppedItems: droppedItems,
                                onClose: handleCloseCheckoutTest,
                                zIndex: 99999,
                                onMouseDown: ()=>{},
                                sock: mccSocket || {}
                            }, void 0, false, {
                                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                                lineNumber: 2254,
                                columnNumber: 5
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                        lineNumber: 2245,
                        columnNumber: 3
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
                lineNumber: 1868,
                columnNumber: 5
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/MainScreen/MainScreen.tsx",
        lineNumber: 1728,
        columnNumber: 3
    }, this);
};
const __TURBOPACK__default__export__ = MainScreen;
}}),

};

//# sourceMappingURL=src_components_MainScreen_ad4ec3f9._.js.map